<cvd-col *ngIf="state === 'intro'" cdkTrapFocus [cdkTrapFocusAutoCapture]="true">
  <cvd-intro [@inOutAnimation]>
    <button
      mat-stroked-button (click)="state = 'game'"
      cdkFocusInitial color="accent">Začít hrát</button>
  </cvd-intro>
</cvd-col>

<cvd-col *ngIf="state === 'game'">
  <cvd-row class="content" [spacing]="3" wrap alignItems="flex-start" [@inOutAnimation]>
    <cvd-col [grow]="2" [spacing]="3" alignItems="stretch" justifyContent="flex-start">
      <cvd-graphs></cvd-graphs>
      <cvd-status-display></cvd-status-display>
    </cvd-col>

    <cvd-col grow alignItems="stretch" [spacing]="3">
      <cvd-mitigations-control></cvd-mitigations-control>
      <cvd-simulation-control *ngIf="debugModeService.getDebugMode()"></cvd-simulation-control>
      <cvd-news></cvd-news>
    </cvd-col>
  </cvd-row>
</cvd-col>

<cvd-col *ngIf="state === 'outro'">
  <cvd-outro [@inOutAnimation]>
    <cvd-row grow [spacing]="3">
      <button mat-stroked-button (click)="newGame()" cdkFocusInitial color="primary">Nová hra</button>
    </cvd-row>
  </cvd-outro>
</cvd-col>

<div *ngIf="state === 'outro' || state === 'game'" grow class="credits">
  <button mat-stroked-button (click)="openCredits()" cdkFocusInitial color="accent">Credits</button>
</div>